<html xmlns:th="http://www.thymeleaf.org">
<head>
	<title>All Person</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>
	<div class="container" id="main">
		<div class="row">
			<div class="col-md-12">
				<h1> Persons </h1>
			</div>
		</div>
	
	
		<div class="col-md-6">
			<a class="btn btn-success" href="#" th:href="@{/person/create}"> Add person </a>
		</div>
		
		


    <br><br>
		
	    <table class="table table-striped table-bordered">
	        <thead>
	        <tr>
	            <th>First Name </th>
	            <th>Last Name</th>
	            <th>Phone</th>
	            <th>Actions</th>
	        </tr>
	        </thead>
	        <tbody>
	        <tr v-for="person in persons">
			    <td>{{ person.firstName }}</td>
			    <td>{{ person.lastName }}</td>
			    <td>{{ person.phone }}</td>
	            <td>
	                <button class="btn btn-primary" v-on:click="editUser(user)">Edit</button>
	                <button class="btn btn-danger" v-on:click="deleteUser(user)">Delete</button>
	            </td>
	        </tr>
	        </tbody>
	    </table>
 
	</div>


	<script>
	    var app = new Vue({
	        el: '#main',
	        data() {
	            return {
	            	persons: null
	            }
	        },
	        mounted(){
	            axios
	                .get("http://localhost:8081/person/allPerson")
	                .then(response => (this.persons = response.data))
	        },
	    })
	</script>
</body>
</html>